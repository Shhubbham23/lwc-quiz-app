<template>
    <lightning-card title="LWC Quiz App" icon-name="custom:custom14">
        <div class="slds-p-around_medium">

            <!-- Timer Block -->
            <template if:true={isQuizStarted}>
                <div class="timer slds-text-body_regular slds-m-bottom_medium">
                    Time Elapsed: {formattedTime}
                </div>
            </template>

            <!-- Final Score Section -->
            <template if:true={showScore}>
                <div class="slds-text-align_center slds-m-bottom_medium">
                    <div class="slds-text-heading_medium">
                        You scored {score} out of {questions.length}!
                    </div>
                    <div class="slds-text-body_regular slds-m-top_small">
                        Time Taken: {formattedTime}
                    </div>
                </div>
                <div class="slds-text-align_center slds-m-top_medium">
                    <lightning-button variant="brand-outline" label="Restart Quiz" onclick={restartQuiz}
                        class="restart-button">
                    </lightning-button>
                </div>
            </template>

            <!-- Quiz Questions Section -->
            <template if:false={showScore}>
                <div class="question-box slds-box slds-theme_shade slds-m-bottom_medium">
                    <h2 class="slds-text-heading_medium slds-text-color_success">
                        {currentQuestion.question}
                    </h2>
                </div>

                <template for:each={optionList} for:item="opt">
                    <div key={opt.label} class="slds-m-bottom_small">
                        <button class={opt.className} data-id={opt.label} onclick={handleOptionClick}
                            disabled={buttonsDisabled}>
                            {opt.label}
                        </button>
                    </div>
                </template>
            </template>

        </div>
    </lightning-card>
</template>